<body>
    <header class="section text-center text-black">
        <div class="container text-center">
            <h1 class="display-3">Looking clean...</h1>
            
            <div class="container" 
                style="width:80%; 
                        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
                        height: 300px; 
                        border-radius: 25px; 
                        overflow-y: auto; 
                        padding: 10px;" 
                id="data-display">
                <table id="data-table" style="width:100%; color: #fff; border-collapse: collapse;"></table>
            </div>

            <br>

            <h3>What would you like to do with your data?</h3>
        </div>

    <!-- Container for chips checklist -->
    <div id="chipGrid" class="chips-container">
        <!-- Chips will be dynamically added here -->
    </div>
</body>


<script>
    async function fetchAndDisplayData() {
    try {
        const response = await fetch('http://localhost:5001/get-data', {
            method: 'GET'
        });
        if (!response.ok) {
            console.error("Failed to fetch data:", response.statusText);
            return;
        }

        const data = await response.json();
        const table = document.getElementById('data-table');

        if (Array.isArray(data) && data.length > 0) {
            // Create table header
            const headers = Object.keys(data[0]);
            const headerRow = document.createElement('tr');
            headers.forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                th.style.borderBottom = '1px solid #fff'; // Optional styling
                th.style.padding = '8px'; // Optional spacing
                th.style.textAlign = 'left';
                headerRow.appendChild(th);
            });
            table.appendChild(headerRow);

            // Create table rows
            data.forEach(row => {
                const rowElement = document.createElement('tr');
                headers.forEach(header => {
                    const td = document.createElement('td');
                    td.textContent = row[header];
                    td.style.padding = '8px'; // Optional spacing
                    rowElement.appendChild(td);
                });
                table.appendChild(rowElement);
            });
        } else {
            table.innerHTML = "<tr><td>No data to display.</td></tr>";
        }
    } catch (error) {
        console.error("Error fetching data:", error);
    }
}

    fetchAndDisplayData();
</script>
